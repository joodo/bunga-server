2025-11-17 05:06:29,423 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 05:06:29,423 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 05:06:29,424 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 05:07:47,200 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 05:07:47,200 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 05:07:47,201 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:49679][0m
2025-11-17 05:07:47,201 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:49679][0m
2025-11-17 05:08:55,985 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 05:08:55,985 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 05:08:55,986 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:49679][0m
2025-11-17 05:08:55,986 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:49679][0m
2025-11-17 05:50:56,658 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 05:50:56,658 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 05:50:56,659 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:01:35,530 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:01:35,530 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:01:35,531 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:04:20,838 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:04:20,838 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:04:20,839 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:17:04,552 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:17:04,552 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:17:04,553 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:17:54,762 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:17:54,763 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:17:54,763 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:19:12,517 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:19:12,517 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:19:12,518 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:19:21,590 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:19:21,591 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:19:21,592 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:20:49,475 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:20:49,475 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:20:49,476 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:21:38,842 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:21:38,843 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:21:38,843 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:23:20,573 [WARNING] django.request: Not Found: /api/register/
2025-11-17 06:23:20,573 [WARNING] django.request: Not Found: /api/register/
2025-11-17 06:23:20,574 [WARNING] django.channels.server: [33mHTTP POST /api/register/ 404 [0.03, 127.0.0.1:50375][0m
2025-11-17 06:23:20,574 [WARNING] django.channels.server: [33mHTTP POST /api/register/ 404 [0.03, 127.0.0.1:50375][0m
2025-11-17 06:23:58,131 [WARNING] django.request: Not Found: /api/channel/test/register/
2025-11-17 06:23:58,131 [WARNING] django.request: Not Found: /api/channel/test/register/
2025-11-17 06:23:58,132 [WARNING] django.channels.server: [33mHTTP POST /api/channel/test/register/ 404 [0.02, 127.0.0.1:50375][0m
2025-11-17 06:23:58,132 [WARNING] django.channels.server: [33mHTTP POST /api/channel/test/register/ 404 [0.02, 127.0.0.1:50375][0m
2025-11-17 06:24:07,546 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:24:07,546 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:24:07,547 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.78, 127.0.0.1:50375][0m
2025-11-17 06:24:07,547 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.78, 127.0.0.1:50375][0m
2025-11-17 06:25:35,852 [WARNING] django.request: Unauthorized: /api/channels/test/register/
2025-11-17 06:25:35,852 [WARNING] django.request: Unauthorized: /api/channels/test/register/
2025-11-17 06:25:35,859 [WARNING] django.channels.server: [31;1mHTTP POST /api/channels/test/register/ 401 [0.54, 127.0.0.1:50404][0m
2025-11-17 06:25:35,859 [WARNING] django.channels.server: [31;1mHTTP POST /api/channels/test/register/ 401 [0.54, 127.0.0.1:50404][0m
2025-11-17 06:25:41,338 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:25:41,338 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:25:41,339 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.86, 127.0.0.1:50404][0m
2025-11-17 06:25:41,339 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.86, 127.0.0.1:50404][0m
2025-11-17 06:26:49,097 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:26:49,097 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:26:49,098 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:26:53,877 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:26:53,878 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.91, 127.0.0.1:50426][0m
2025-11-17 06:28:18,410 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:28:18,410 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:28:18,412 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:28:20,591 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:28:20,592 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.82, 127.0.0.1:50455][0m
2025-11-17 06:28:30,983 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:28:30,983 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:28:30,985 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:28:36,695 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:28:36,696 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.78, 127.0.0.1:50466][0m
2025-11-17 06:32:45,216 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:32:45,217 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:32:45,218 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:32:48,866 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
2025-11-17 06:32:48,867 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.75, 127.0.0.1:50508][0m
2025-11-17 06:33:57,931 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:33:57,932 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:33:57,933 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:34:45,429 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:34:45,429 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:34:45,430 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:35:08,119 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:35:08,119 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:35:08,120 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:35:33,777 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:35:33,777 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:35:33,778 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:37:17,532 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:37:17,533 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:37:17,534 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:37:27,569 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:37:27,569 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:37:27,570 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:37:46,131 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:37:46,131 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:37:46,132 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:40:27,506 [WARNING] django.request: Unauthorized: /api/channels/test/register/
2025-11-17 06:40:27,507 [WARNING] django.channels.server: [31;1mHTTP POST /api/channels/test/register/ 401 [0.53, 127.0.0.1:50633][0m
2025-11-17 06:40:32,735 [WARNING] django.request: Unauthorized: /api/channels/test/register/
2025-11-17 06:40:32,735 [WARNING] django.channels.server: [31;1mHTTP POST /api/channels/test/register/ 401 [0.54, 127.0.0.1:50633][0m
2025-11-17 06:48:12,343 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 06:48:12,344 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:50675][0m
2025-11-17 06:48:54,773 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 06:48:54,774 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:50675][0m
2025-11-17 06:49:46,364 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 06:49:46,365 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:50675][0m
2025-11-17 06:54:11,222 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:54:11,222 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:54:11,223 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 06:54:15,632 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 06:54:15,633 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:50776][0m
2025-11-17 06:54:34,144 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 06:54:34,144 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:50776][0m
2025-11-17 06:54:37,811 [ERROR] django.request: Internal Server Error: /api/channels/test/register/
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 74, in wrap_attributeerrors
    yield
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 231, in user
    self._authenticate()
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 384, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/bunga/bunga/auth.py", line 10, in authenticate
    raw_token = self.get_raw_token(self.get_header(request))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework_simplejwt/authentication.py", line 77, in get_raw_token
    parts = header.split()
            ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'split'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 552, in thread_handler
    raise exc_info[1]
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 552, in thread_handler
    raise exc_info[1]
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 502, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 556, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/views.py", line 414, in initial
    self.perform_authentication(request)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/views.py", line 324, in perform_authentication
    request.user
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 230, in user
    with wrap_attributeerrors():
  File "/Users/lianghanzhong/.pyenv/versions/3.11.4/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 78, in wrap_attributeerrors
    raise exc.with_traceback(info[2])
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 74, in wrap_attributeerrors
    yield
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 231, in user
    self._authenticate()
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework/request.py", line 384, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/bunga/bunga/auth.py", line 10, in authenticate
    raw_token = self.get_raw_token(self.get_header(request))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/rest_framework_simplejwt/authentication.py", line 77, in get_raw_token
    parts = header.split()
            ^^^^^^^^^^^^
rest_framework.request.WrappedAttributeError: 'NoneType' object has no attribute 'split'
2025-11-17 06:54:37,818 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register/ 500 [0.07, 127.0.0.1:50776][0m
2025-11-17 06:57:43,372 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 06:57:43,373 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 06:57:43,373 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 07:03:19,490 [WARNING] django.request: Not Found: /api/channels/430338/register/
2025-11-17 07:03:19,497 [WARNING] django.channels.server: [33mHTTP POST /api/channels/430338/register/ 404 [0.02, 127.0.0.1:51267][0m
2025-11-17 07:03:42,974 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:03:42,976 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51290][0m
2025-11-17 07:04:16,309 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:04:16,309 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51290][0m
2025-11-17 07:04:55,168 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 07:04:55,169 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 07:04:55,170 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 07:04:57,707 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:04:57,708 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51361][0m
2025-11-17 07:05:51,813 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 07:05:51,814 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 07:05:51,815 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 07:05:54,681 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:05:54,682 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51413][0m
2025-11-17 07:06:20,991 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 07:06:20,992 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 07:06:20,993 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 07:06:23,069 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:06:23,069 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51434][0m
2025-11-17 07:10:36,147 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 07:10:36,148 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 07:10:36,149 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 07:10:38,981 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:10:38,981 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.02, 127.0.0.1:51595][0m
2025-11-17 07:10:44,702 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:10:44,704 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51595][0m
2025-11-17 07:10:49,768 [WARNING] django.request: Forbidden: /api/channels/
2025-11-17 07:10:49,769 [WARNING] django.channels.server: [31;1mHTTP GET /api/channels/ 403 [0.01, 127.0.0.1:51595][0m
2025-11-17 08:41:19,509 [WARNING] django.request: Not Found: /api/channels/test/register//register
2025-11-17 08:41:19,511 [WARNING] django.channels.server: [33mHTTP POST /api/channels/test/register//register 404 [0.02, 127.0.0.1:59785][0m
2025-11-17 08:42:05,270 [WARNING] django.request: Not Found: /api/channels/test/register//register
2025-11-17 08:42:05,271 [WARNING] django.channels.server: [33mHTTP POST /api/channels/test/register//register 404 [0.01, 127.0.0.1:59852][0m
2025-11-17 08:42:40,111 [ERROR] django.request: Internal Server Error: /api/channels/test/register
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 552, in thread_handler
    raise exc_info[1]
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/utils/deprecation.py", line 147, in __acall__
    response = await sync_to_async(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 502, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 556, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to localhost:8000/api/channels/test/register/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
2025-11-17 08:42:40,119 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register 500 [0.10, 127.0.0.1:59888][0m
2025-11-17 08:42:51,993 [ERROR] django.request: Internal Server Error: /api/channels/test/register
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 552, in thread_handler
    raise exc_info[1]
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/utils/deprecation.py", line 147, in __acall__
    response = await sync_to_async(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 502, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 556, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to localhost:8000/api/channels/test/register/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
2025-11-17 08:42:51,996 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register 500 [0.05, 127.0.0.1:59895][0m
2025-11-17 08:43:54,279 [WARNING] django.request: Not Found: /api/channels/test/register//register/
2025-11-17 08:43:54,280 [WARNING] django.channels.server: [33mHTTP POST /api/channels/test/register//register/ 404 [0.01, 127.0.0.1:59961][0m
2025-11-17 08:43:59,334 [WARNING] django.request: Not Found: /api/channels/test//register/
2025-11-17 08:43:59,334 [WARNING] django.channels.server: [33mHTTP POST /api/channels/test//register/ 404 [0.01, 127.0.0.1:59978][0m
2025-11-17 08:52:17,397 [ERROR] django.request: Internal Server Error: /api/channels/test/register
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 552, in thread_handler
    raise exc_info[1]
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/utils/deprecation.py", line 147, in __acall__
    response = await sync_to_async(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 502, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 556, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to localhost:8000/api/channels/test/register/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
2025-11-17 08:52:17,400 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test/register 500 [0.04, 127.0.0.1:60507][0m
2025-11-17 09:00:11,351 [ERROR] django.request: Internal Server Error: /api/channels/test
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 552, in thread_handler
    raise exc_info[1]
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/utils/deprecation.py", line 147, in __acall__
    response = await sync_to_async(
               ^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 502, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/asgiref/sync.py", line 556, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/middleware/common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to localhost:8000/api/channels/test/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
2025-11-17 09:00:11,354 [ERROR] django.channels.server: [35;1mHTTP POST /api/channels/test 500 [0.03, 127.0.0.1:61159][0m
2025-11-17 09:57:54,038 [WARNING] django.request: Bad Request: /api/token/refresh/
2025-11-17 09:57:54,039 [WARNING] django.channels.server: [31;1mHTTP POST /api/token/refresh/ 400 [0.05, 127.0.0.1:64099][0m
2025-11-17 09:58:41,169 [WARNING] django.request: Bad Request: /api/token/refresh/
2025-11-17 09:58:41,170 [WARNING] django.channels.server: [31;1mHTTP POST /api/token/refresh/ 400 [0.01, 127.0.0.1:64099][0m
2025-11-17 09:59:14,186 [WARNING] django.request: Unauthorized: /api/token/refresh/
2025-11-17 09:59:14,187 [WARNING] django.channels.server: [31;1mHTTP POST /api/token/refresh/ 401 [0.01, 127.0.0.1:64099][0m
2025-11-17 11:16:24,595 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:16:24,595 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:16:24,597 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:16:52,395 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:16:52,396 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:16:52,397 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:17:03,666 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:17:03,666 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:17:03,668 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:17:28,982 [INFO] django.utils.autoreload: Watching for file changes with StatReloader
2025-11-17 11:17:29,395 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:17:29,395 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:17:29,396 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:17:33,315 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/123/ [127.0.0.1:52898]
2025-11-17 11:17:33,328 [INFO] django.channels.server: WebSocket REJECT /chat/123/ [127.0.0.1:52898]
2025-11-17 11:17:33,331 [INFO] django.channels.server: WebSocket DISCONNECT /chat/123/ [127.0.0.1:52898]
2025-11-17 11:19:20,396 [INFO] django.channels.server: [mHTTP POST /api/token/ 200 [0.54, 127.0.0.1:52980][0m
2025-11-17 11:19:36,149 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/123/ [127.0.0.1:52997]
2025-11-17 11:19:36,154 [INFO] django.channels.server: WebSocket REJECT /chat/123/ [127.0.0.1:52997]
2025-11-17 11:19:36,159 [INFO] django.channels.server: WebSocket DISCONNECT /chat/123/ [127.0.0.1:52997]
2025-11-17 11:19:56,409 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:53014]
2025-11-17 11:19:56,416 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:53014]
2025-11-17 11:24:31,550 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [1.15, 127.0.0.1:53235][0m
2025-11-17 11:24:31,706 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:53251]
2025-11-17 11:24:31,712 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:53251]
2025-11-17 11:26:58,391 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:53251]
2025-11-17 11:27:01,673 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.72, 127.0.0.1:53398][0m
2025-11-17 11:27:01,836 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:53412]
2025-11-17 11:27:01,842 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:53412]
2025-11-17 11:28:54,864 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:53412]
2025-11-17 11:28:58,322 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.70, 127.0.0.1:53546][0m
2025-11-17 11:28:58,472 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:53557]
2025-11-17 11:28:58,482 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:53557]
2025-11-17 11:31:25,608 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:53557]
2025-11-17 11:31:29,374 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [1.03, 127.0.0.1:53979][0m
2025-11-17 11:31:29,525 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:53995]
2025-11-17 11:31:29,532 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:53995]
2025-11-17 11:31:39,599 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:53995]
2025-11-17 11:31:42,838 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.73, 127.0.0.1:54033][0m
2025-11-17 11:31:42,988 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:54047]
2025-11-17 11:31:42,994 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:54047]
2025-11-17 11:32:54,797 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:54047]
2025-11-17 11:32:57,929 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.69, 127.0.0.1:54118][0m
2025-11-17 11:33:02,462 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:54139]
2025-11-17 11:33:02,468 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:54139]
2025-11-17 11:33:03,283 [ERROR] daphne.server: Exception inside application: 'message'
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/contrib/staticfiles/handlers.py", line 101, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/bunga/chat/middlewares.py", line 60, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/consumer.py", line 74, in dispatch
    await handler(message)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/generic/websocket.py", line 204, in websocket_receive
    await self.receive(text_data=message["text"])
  File "/Users/lianghanzhong/workplace/bunga-server/bunga/chat/consumers.py", line 39, in receive
    message = text_data_json['message']
              ~~~~~~~~~~~~~~^^^^^^^^^^^
KeyError: 'message'
2025-11-17 11:33:03,304 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:54139]
2025-11-17 11:35:51,513 [INFO] django.utils.autoreload: /Users/lianghanzhong/workplace/bunga-server/bunga/chat/consumers.py changed, reloading.
2025-11-17 11:35:52,955 [INFO] django.utils.autoreload: Watching for file changes with StatReloader
2025-11-17 11:35:53,648 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:35:53,649 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:35:53,650 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:35:55,651 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:54259]
2025-11-17 11:35:55,660 [INFO] django.channels.server: WebSocket REJECT /chat/test/ [127.0.0.1:54259]
2025-11-17 11:36:46,361 [INFO] django.channels.server: [mHTTP POST /api/token/refresh/ 200 [0.02, 127.0.0.1:54288][0m
2025-11-17 11:37:01,700 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:54301]
2025-11-17 11:37:01,716 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:54301]
2025-11-17 11:37:13,374 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [1.08, 127.0.0.1:54334][0m
2025-11-17 11:37:13,701 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:54350]
2025-11-17 11:37:13,708 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:54350]
2025-11-17 11:39:08,669 [INFO] django.utils.autoreload: /Users/lianghanzhong/workplace/bunga-server/bunga/chat/consumers.py changed, reloading.
2025-11-17 11:39:09,965 [INFO] django.utils.autoreload: Watching for file changes with StatReloader
2025-11-17 11:39:10,563 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:39:10,563 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:39:10,564 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:53:01,547 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [1.14, 127.0.0.1:55041][0m
2025-11-17 11:53:01,816 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55057]
2025-11-17 11:53:01,823 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55057]
2025-11-17 11:53:02,480 [ERROR] daphne.server: Exception inside application: 'str' object does not support item assignment
Traceback (most recent call last):
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/django/contrib/staticfiles/handlers.py", line 101, in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/bunga/chat/middlewares.py", line 60, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/sessions.py", line 44, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/sessions.py", line 261, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/consumer.py", line 74, in dispatch
    await handler(message)
  File "/Users/lianghanzhong/workplace/bunga-server/.venv/lib/python3.11/site-packages/channels/generic/websocket.py", line 204, in websocket_receive
    await self.receive(text_data=message["text"])
  File "/Users/lianghanzhong/workplace/bunga-server/bunga/chat/consumers.py", line 39, in receive
    text_data['type'] = 'chat.message'
    ~~~~~~~~~^^^^^^^^
TypeError: 'str' object does not support item assignment
2025-11-17 11:53:02,503 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55057]
2025-11-17 11:53:11,328 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55077]
2025-11-17 11:53:11,329 [INFO] django.channels.server: WebSocket REJECT /chat/test/ [127.0.0.1:55077]
2025-11-17 11:53:11,329 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55077]
2025-11-17 11:53:17,118 [INFO] django.channels.server: [mHTTP POST /api/token/refresh/ 200 [0.01, 127.0.0.1:55081][0m
2025-11-17 11:53:26,180 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55090]
2025-11-17 11:53:26,186 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55090]
2025-11-17 11:54:48,115 [INFO] django.utils.autoreload: /Users/lianghanzhong/workplace/bunga-server/bunga/chat/consumers.py changed, reloading.
2025-11-17 11:54:49,693 [INFO] django.utils.autoreload: Watching for file changes with StatReloader
2025-11-17 11:54:50,292 [INFO] daphne.server: HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-11-17 11:54:50,292 [INFO] daphne.server: Configuring endpoint tcp:port=8000:interface=0.0.0.0
2025-11-17 11:54:50,293 [INFO] daphne.server: Listening on TCP address 0.0.0.0:8000
2025-11-17 11:54:54,200 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55164]
2025-11-17 11:54:54,217 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55164]
2025-11-17 11:55:03,458 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [1.20, 127.0.0.1:55193][0m
2025-11-17 11:55:03,744 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55209]
2025-11-17 11:55:03,755 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55209]
2025-11-17 11:57:10,649 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55209]
2025-11-17 11:57:13,891 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.76, 127.0.0.1:55308][0m
2025-11-17 11:57:14,051 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55324]
2025-11-17 11:57:14,059 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55324]
2025-11-17 11:57:40,797 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55324]
2025-11-17 11:57:44,061 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.75, 127.0.0.1:55373][0m
2025-11-17 11:57:44,209 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55384]
2025-11-17 11:57:44,219 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55384]
2025-11-17 11:58:01,632 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55384]
2025-11-17 11:58:04,801 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.70, 127.0.0.1:55428][0m
2025-11-17 11:58:04,949 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55439]
2025-11-17 11:58:04,954 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55439]
2025-11-17 11:59:09,762 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55439]
2025-11-17 11:59:13,148 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.93, 127.0.0.1:55511][0m
2025-11-17 11:59:13,284 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55528]
2025-11-17 11:59:13,289 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55528]
2025-11-17 12:00:16,554 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55528]
2025-11-17 12:00:19,799 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.80, 127.0.0.1:55927][0m
2025-11-17 12:00:19,955 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:55941]
2025-11-17 12:00:19,962 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:55941]
2025-11-17 12:12:06,931 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:55941]
2025-11-17 12:12:10,674 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [1.05, 127.0.0.1:56426][0m
2025-11-17 12:12:10,837 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:56442]
2025-11-17 12:12:10,845 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:56442]
2025-11-17 12:15:09,278 [INFO] django.channels.server: WebSocket DISCONNECT /chat/test/ [127.0.0.1:56442]
2025-11-17 12:15:12,776 [INFO] django.channels.server: [mHTTP POST /api/channels/test/register/ 200 [0.75, 127.0.0.1:56590][0m
2025-11-17 12:15:12,927 [INFO] django.channels.server: WebSocket HANDSHAKING /chat/test/ [127.0.0.1:56604]
2025-11-17 12:15:12,931 [INFO] django.channels.server: WebSocket CONNECT /chat/test/ [127.0.0.1:56604]
